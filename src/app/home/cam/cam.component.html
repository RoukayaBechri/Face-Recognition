
<div class="container-fluid cont" style="padding-top: 1%; padding-bottom: 3%;">
  <div class="row align-item-center justify-content-center text-center" style="padding:1%;">
      <h3>Recognition Camera </h3>

  </div>

  <div class="row align-item-center justify-content-center ">
      <div class="col-3 div">
          <div><video #video id="video" width="300" height="200" autoplay class="vid"></video></div>
      </div>
  </div>

  <div class="row align-item-center justify-content-center ">

      <button class="btn btn-primary" style="width: 20%;" (click)="capture();getData()"><i class="fas fa-camera-retro" style="font-size:2rem; color:whitesmoke;"></i> take a picture </button>
  </div>


  <div class="row  align-item-center justify-content-center">
      <div class="col-5 div" style="padding:2%;">
          <div id="app">

              <canvas #canvas id="canvas" width="512" height="384"></canvas>

          </div>

      </div>
      <div class="col-5 div" style="padding:2%;">
          <h3>General Data Info:</h3>
          <hr  width="50%" color="midnightblue" size="3"> 
          <div style="display: flex; justify-content: center; align-items: center" *ngIf="isLoading">
            <mat-progress-spinner style="font-size: 1rem;"  color="accent" mode="indeterminate">
            </mat-progress-spinner>
          </div>
         
          <div *ngIf="singlePerson">
              <div *ngFor="let d of faceData">
                  <h6> Gender: {{d.faceAttributes.gender}}</h6>
                  <h6> Age: {{d.faceAttributes.age}}</h6>
                  <h6> Glasses: {{d.faceAttributes.glasses}} </h6>
                  <h6> Hair: {{d.faceAttributes.hair.hairColor[0].color}}
                      ({{d.faceAttributes.hair.hairColor[0].confidence*100}}%),
                      {{d.faceAttributes.hair.hairColor[1].color}}
                      ({{d.faceAttributes.hair.hairColor[1].confidence*100}}%) </h6>
                  <h6> Moustache: {{d.faceAttributes.facialHair.moustache*100}}%</h6>
                  <h6> Beard: {{d.faceAttributes.facialHair.beard*100}}%</h6>
                  <h6>Global Emotion:</h6>
                  <div style="margin-left:10%;">
                      <h6> <i class="fas fa-smile-beam" style="font-size: 1.5rem; color:aliceblue;"></i> Happiness:
                          {{d.faceAttributes.emotion.happiness*100}}%</h6>
                      <h6> <i class="fas fa-surprise" style="font-size: 1.5rem; color:aliceblue;"></i> Surprise:
                          {{d.faceAttributes.emotion.surprise*100}}%</h6>
                      <h6> <i class="fas fa-meh" style="font-size:  1.5rem; color:aliceblue;"></i> Neutral:
                          {{d.faceAttributes.emotion.neutral*100}}%</h6>
                      <h6><i class="fas fa-sad-tear" style="font-size:  1.5rem; color:aliceblue;"></i> Sadness:
                          {{d.faceAttributes.emotion.sadness*100}}%</h6>
                      <h6> <i class="fas fa-angry" style="font-size: 1.5rem; color:aliceblue;"></i> Anger:
                          {{d.faceAttributes.emotion.anger*100}}%</h6>
                      <h6> <i class="fas fa-sad-cry" style="font-size:  1.5rem; color:aliceblue;"></i> Fear:
                          {{d.faceAttributes.emotion.fear*100}}%</h6>
                  </div>
              </div>
          </div>
          <div *ngIf="!singlePerson">
              <h4> There's {{personNumber}} Faces in this image</h4>
              <div *ngFor="let info of faceData let i = index ">
                  <h6 style="margin-left:5%;">Person {{i+1}}: Gender({{info.faceAttributes.gender}}),
                      Age({{info.faceAttributes.age}}) </h6>
              </div>
          </div>



      </div>
  </div>
  <div *ngIf="!singlePerson" class="row align-item-center justify-content-center">
      <div *ngFor="let info of faceData let i = index" style="margin:3%;">
          <!-- debut Card-->
          <div class="card div" style="width: 18rem;">
              <div class="card-body ">
                  <h5 class="card-title">Person{{i+1}}</h5>
                  <h6>Gender: {{info.faceAttributes.gender}}</h6>
                  <h6>Age: {{info.faceAttributes.age}}</h6>
                  <h6>Glasses: {{info.faceAttributes.glasses}}</h6>
                  <h6>Hair Color: {{info.faceAttributes.hair.hairColor[0].color}} ( {{info.faceAttributes.hair.hairColor[0].confidence*100}} %)</h6>
                  <h4> Moustache: {{info.faceAttributes.facialHair.moustache*100}}%</h4>
                  <h4> Beard: {{info.faceAttributes.facialHair.beard*100}}%</h4>
                  <h4>Global Emotion:</h4>
                  <div style="margin-left:10%;">
                      <h6> <i class="fas fa-smile-beam" style="font-size: 2rem; color:aliceblue;"></i> Happiness:
                          {{info.faceAttributes.emotion.happiness*100}}%</h6>
                      <h6> <i class="fas fa-surprise" style="font-size: 2rem; color:aliceblue;"></i> Surprise:
                          {{info.faceAttributes.emotion.surprise*100}}%</h6>
                      <h6> <i class="fas fa-meh" style="font-size: 2rem; color:aliceblue;"></i> Neutral:
                          {{info.faceAttributes.emotion.neutral*100}}%</h6>
                      <h6><i class="fas fa-sad-tear" style="font-size: 2rem; color:aliceblue;"></i> Sadness:
                          {{info.faceAttributes.emotion.sadness*100}}%</h6>
                      <h6> <i class="fas fa-angry" style="font-size: 2rem; color:aliceblue;"></i> Anger:
                          {{info.faceAttributes.emotion.anger*100}}%</h6>
                      <h6> <i class="fas fa-sad-cry" style="font-size: 2rem; color:aliceblue;"></i> Fear:
                          {{info.faceAttributes.emotion.fear*100}}%</h6>
                  </div>

              </div>
          </div>
          <!-- Fin Card-->
      </div>

  </div>

</div>
